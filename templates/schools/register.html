{% extends "base.html" %}

{% block title %}Register Your School - Bodhgriha{% endblock %}

{% block content %}
    <!-- Background video (update the source URLs as needed) -->
    <video autoplay muted loop playsinline
           class="fixed inset-0 w-full h-full object-cover -z-10 max-h-screen">
        <source src="{{ url_for('static', filename='videos/schools-register.mov') }}" type="video/mp4">
        <!-- Add alternate sources or formats above. -->
        Your browser does not support the video tag.
    </video>

    <!-- Overlay for readability -->
    <div class="fixed inset-0 bg-black/55 -z-10 backdrop-blur-sm"></div>

    <div class="relative flex flex-col items-center justify-center min-h-[80vh] px-4 py-10">
        <div class="text-center mb-8 max-w-2xl">
            <h1 class="text-3xl md:text-4xl font-bold text-white drop-shadow mb-3">
                Register Your School
            </h1>
            <p class="text-lg text-white/85">
                Share your lineage, faculty, and offerings to connect with Bodhgriha students worldwide.
            </p>
        </div>

        <div class="w-full max-w-2xl">
            <div class="bg-black/45 backdrop-blur rounded-2xl p-8 shadow-lg">
                {% from "ui/macros/form.html" import render_form %}
                {{ render_form(
                    form,
                    action=url_for('schools.register'),
                    method='POST',
                    submit_label='Register School',
                    field_order=[
                        'name',
                        'description',
                        'email',
                        'phone',
                        'website',
                        'registration_number',
                        'certification_body'
                    ],
                    help_texts={
                        'email': 'We\'ll use this for official communication.',
                        'website': 'Public website for your school (optional).',
                        'registration_number': 'Government or association registration (optional).',
                        'certification_body': 'E.g., Yoga Alliance, IYA, or other (optional).'
                    },
                    extra_attrs={
                        'name':                {'autocomplete':'organization', 'placeholder':'Sunrise Yoga School', 'class': 'w-full p-3 bg-black/40 text-white placeholder:text-white/60 border border-white/30 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-400'},
                        'description':         {'rows':'4', 'placeholder':'Brief overview of your school, styles, lineage…', 'class': 'w-full p-3 bg-black/40 text-white placeholder:text-white/60 border border-white/30 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-400'},
                        'email':               {'autocomplete':'email', 'placeholder':'school@example.com', 'inputmode':'email', 'class': 'w-full p-3 bg-black/40 text-white placeholder:text-white/60 border border-white/30 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-400'},
                        'phone':               {'autocomplete':'tel', 'placeholder':'+91 98765 43210', 'inputmode':'tel', 'pattern':'[0-9+\\- ()]*', 'class': 'w-full p-3 bg-black/40 text-white placeholder:text-white/60 border border-white/30 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-400'},
                        'website':             {'autocomplete':'url', 'placeholder':'https://www.sunriseyoga.in', 'inputmode':'url', 'class': 'w-full p-3 bg-black/40 text-white placeholder:text-white/60 border border-white/30 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-400'},
                        'registration_number': {'placeholder':'REG-2025-XYZ', 'class': 'w-full p-3 bg-black/40 text-white placeholder:text-white/60 border border-white/30 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-400'},
                        'certification_body':  {'placeholder':'Yoga Alliance / IYA / Other', 'class': 'w-full p-3 bg-black/40 text-white placeholder:text-white/60 border border-white/30 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-400'}
                    },
                    submit_classes='w-full inline-flex items-center justify-center rounded-xl px-4 py-3 text-sm font-medium bg-[#0c5741] text-white hover:bg-[#0c5741dd] focus:outline-none focus:ring-2 focus:ring-emerald-500',
                    grid_classes='grid grid-cols-1 gap-4'
                ) }}
            </div>

        </div>

        <div class="mt-10 text-center">
            <a href="{{ url_for('index') }}" class="text-white/70 hover:text-white transition text-sm">
                ← Back to home
            </a>
        </div>
    </div>
{% endblock %}
